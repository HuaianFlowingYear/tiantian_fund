{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u8F6F\\u4EF6\\u4F4D\\u7F6E\\\\Pictures\\\\\\u5B66\\u4E60\\\\12\\u6708\\u5B66\\u4E60\\\\react\\\\code\\\\Tiantan-fund\\\\src\\\\views\\\\LifeTiems.jsx\";\nimport React from \"react\";\nimport { root } from \"../index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass LiftTimes extends React.Component {\n  // 只执行一次\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0,\n      list: [1, 2, 3]\n    };\n    console.log(props);\n    console.log(\"constructor...\");\n  }\n  //\n  // 如果只是淡出定义一个组件状态 不必要使用constructor\n  // state = {count:0,list:[1,2,3]};\n  // 默认返回true 只要props/state发生变化 都会执行render+componentDidUpdate\n  // 性能优化：避免不必须的更新 要有有意义的更新\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   console.log(this.props, nextProps);\n  //   console.log(this.state, nextState);\n  //   console.log(\"shouldComponentUpdate...\");\n  //   return true;\n  // }\n  shouldComponentUpdate(nextProps, nextState) {\n    // console.log(this.props === nextProps); ->false\n    return this.props.index !== nextProps.index;\n  }\n  // 执行若干次\n\n  render() {\n    console.log(\"render...\");\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => this.setState({\n          count: {}\n        }),\n        children: \"\\u751F\\u547D\\u5468\\u671F\\u51FD\\u6570\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"props:\", this.props.children]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"state:\", this.state.count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => root.unmount(),\n        children: \"\\u9500\\u6BC1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  // 执行若干次\n  componentDidUpdate(prevProps, prevState) {\n    console.log(prevProps, this.props);\n    console.log(prevState, this.state);\n    // 避免死循环\n    console.log(\"componentDidUpdate...\");\n    if (prevState.id !== this.state.id) {\n      this.getFund();\n    }\n  }\n  // 只执行一次\n  componentDidMount() {\n    console.log(\"componentDidMount...\");\n  }\n  // 只执行一次\n  componentWillUnmount() {\n    // 清楚定时器 解绑事件\n    console.log(\"componentWillUnmount...\");\n  }\n}\nexport default LiftTimes;\n/**\r\n * 1.组件首次渲染会一次触发3个函数：constructor render componentDidMount，\r\n * 1.1 其中constructor和componentDidMount在整个组件的生命周期中只执行一次\r\n * 1.2 constructor函数具有一个形参 其作用是收集组件的props属性和子节点(props.children)\r\n * 2.组件的props/state发生更新时，会依次触发： shouldComponentUpdate render componentDidUpdate\r\n * 2.1其中shouldComponentUpdate这个函数必须具备返回值且其返回值类型为boolean 用以控制后续的render和componentDidUpdate是否继续执行\r\n * 2.2如果shouldComponentUpdate返回false 只是UI更新被拦截 props/state值依然会变化\r\n * 2.3 shouldComponentUpdate这个函数具备两个参数 分别是即将更新的props和即将更新的state\r\n * 2.4 shouldComponentUpdate核心功能：性能优化 避免不必要的更新render\r\n * 2.5 componentDidUpdate具备两个参数 分别是上一次的props(prevProps) 和 上一次的state(prevState)\r\n * 3. React.PureComponent = React.Componet + shouldComponentUpdate\r\n * 4. componentDidCatch捕获组件运行时异常\r\n */\n// 如何销毁一个组件","map":{"version":3,"names":["React","root","jsxDEV","_jsxDEV","Fragment","_Fragment","LiftTimes","Component","constructor","props","state","count","list","console","log","shouldComponentUpdate","nextProps","nextState","index","render","children","onClick","setState","fileName","_jsxFileName","lineNumber","columnNumber","unmount","componentDidUpdate","prevProps","prevState","id","getFund","componentDidMount","componentWillUnmount"],"sources":["D:/软件位置/Pictures/学习/12月学习/react/code/Tiantan-fund/src/views/LifeTiems.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { root } from \"../index\";\r\n\r\nclass LiftTimes extends React.Component {\r\n  // 只执行一次\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { count: 0, list: [1, 2, 3] };\r\n    console.log(props);\r\n    console.log(\"constructor...\");\r\n  }\r\n  //\r\n  // 如果只是淡出定义一个组件状态 不必要使用constructor\r\n  // state = {count:0,list:[1,2,3]};\r\n  // 默认返回true 只要props/state发生变化 都会执行render+componentDidUpdate\r\n  // 性能优化：避免不必须的更新 要有有意义的更新\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   console.log(this.props, nextProps);\r\n  //   console.log(this.state, nextState);\r\n  //   console.log(\"shouldComponentUpdate...\");\r\n  //   return true;\r\n  // }\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    // console.log(this.props === nextProps); ->false\r\n    return this.props.index !== nextProps.index;\r\n  }\r\n  // 执行若干次\r\n\r\n  render() {\r\n    console.log(\"render...\");\r\n    return (\r\n      <>\r\n        <div onClick={() => this.setState({ count: {} })}>生命周期函数</div>\r\n        <div>props:{this.props.children}</div>\r\n        <div>state:{this.state.count}</div>\r\n        <button onClick={() => root.unmount()}>销毁</button>\r\n      </>\r\n    );\r\n  }\r\n  // 执行若干次\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(prevProps, this.props);\r\n    console.log(prevState, this.state);\r\n    // 避免死循环\r\n    console.log(\"componentDidUpdate...\");\r\n    if (prevState.id !== this.state.id) {\r\n      this.getFund();\r\n    }\r\n  }\r\n  // 只执行一次\r\n  componentDidMount() {\r\n    console.log(\"componentDidMount...\");\r\n  }\r\n  // 只执行一次\r\n  componentWillUnmount() {\r\n    // 清楚定时器 解绑事件\r\n    console.log(\"componentWillUnmount...\");\r\n  }\r\n}\r\nexport default LiftTimes;\r\n/**\r\n * 1.组件首次渲染会一次触发3个函数：constructor render componentDidMount，\r\n * 1.1 其中constructor和componentDidMount在整个组件的生命周期中只执行一次\r\n * 1.2 constructor函数具有一个形参 其作用是收集组件的props属性和子节点(props.children)\r\n * 2.组件的props/state发生更新时，会依次触发： shouldComponentUpdate render componentDidUpdate\r\n * 2.1其中shouldComponentUpdate这个函数必须具备返回值且其返回值类型为boolean 用以控制后续的render和componentDidUpdate是否继续执行\r\n * 2.2如果shouldComponentUpdate返回false 只是UI更新被拦截 props/state值依然会变化\r\n * 2.3 shouldComponentUpdate这个函数具备两个参数 分别是即将更新的props和即将更新的state\r\n * 2.4 shouldComponentUpdate核心功能：性能优化 避免不必要的更新render\r\n * 2.5 componentDidUpdate具备两个参数 分别是上一次的props(prevProps) 和 上一次的state(prevState)\r\n * 3. React.PureComponent = React.Componet + shouldComponentUpdate\r\n * 4. componentDidCatch捕获组件运行时异常\r\n */\r\n// 如何销毁一个组件\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEhC,MAAMC,SAAS,SAASN,KAAK,CAACO,SAAS,CAAC;EACtC;EACAC,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MAAEC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;IAAE,CAAC;IAC1CC,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;IAClBI,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;EAC/B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,qBAAqBA,CAACC,SAAS,EAAEC,SAAS,EAAE;IAC1C;IACA,OAAO,IAAI,CAACR,KAAK,CAACS,KAAK,KAAKF,SAAS,CAACE,KAAK;EAC7C;EACA;;EAEAC,MAAMA,CAAA,EAAG;IACPN,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IACxB,oBACEX,OAAA,CAAAE,SAAA;MAAAe,QAAA,gBACEjB,OAAA;QAAKkB,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACC,QAAQ,CAAC;UAAEX,KAAK,EAAE,CAAC;QAAE,CAAC,CAAE;QAAAS,QAAA,EAAC;MAAM;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC9DvB,OAAA;QAAAiB,QAAA,GAAK,QAAM,EAAC,IAAI,CAACX,KAAK,CAACW,QAAQ;MAAA;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACtCvB,OAAA;QAAAiB,QAAA,GAAK,QAAM,EAAC,IAAI,CAACV,KAAK,CAACC,KAAK;MAAA;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACnCvB,OAAA;QAAQkB,OAAO,EAAEA,CAAA,KAAMpB,IAAI,CAAC0B,OAAO,CAAC,CAAE;QAAAP,QAAA,EAAC;MAAE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eAClD,CAAC;EAEP;EACA;EACAE,kBAAkBA,CAACC,SAAS,EAAEC,SAAS,EAAE;IACvCjB,OAAO,CAACC,GAAG,CAACe,SAAS,EAAE,IAAI,CAACpB,KAAK,CAAC;IAClCI,OAAO,CAACC,GAAG,CAACgB,SAAS,EAAE,IAAI,CAACpB,KAAK,CAAC;IAClC;IACAG,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IACpC,IAAIgB,SAAS,CAACC,EAAE,KAAK,IAAI,CAACrB,KAAK,CAACqB,EAAE,EAAE;MAClC,IAAI,CAACC,OAAO,CAAC,CAAC;IAChB;EACF;EACA;EACAC,iBAAiBA,CAAA,EAAG;IAClBpB,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;EACrC;EACA;EACAoB,oBAAoBA,CAAA,EAAG;IACrB;IACArB,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;EACxC;AACF;AACA,eAAeR,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}